{% extends 'base.html' %}

{% block content %}
  <style>
    .styled-table {
        border-collapse: collapse;
        margin: 20px 0;
        font-size: 0.5em;
        font-family: sans-serif;
        min-width: 100px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

    .styled-table thead tr {
        background-color: #DE3163;
        color: #ffffff;
        text-align: left;
        font-size: 1em;
    }

    .styled-table th,
    .styled-table td {
        padding: 2px 3px;
    }

    .styled-table tbody tr {
        border-bottom: 1px solid #dddddd;
    }

    .styled-table tbody tr:nth-of-type(even) {
        background-color: #f3f3f3;
    }

    .styled-table tbody tr:last-of-type {
        border-bottom: 1px solid #090f18;
    }

    .styled-table tbody tr:first-of-type {
        border-bottom: 1px solid #DE3163;
    }

    .styled-table tbody tr.active-row {
        font-weight: bold;
        color: #090f18;
    }

    .dp-styled-img {
      height: 40px;
      width: 40px;
    }

  </style>

       {% if profile.permissions.league %}
            <h3>League Table</h3>
        <hr>
          {% for league_name, table in tables.items %}
             <center>
                <h3>{{ league_name }}</h3>
              </center>
              <hr>
              <div>
                  <table class="styled-table" style="width: 100%; height: 100%; text-align: center">
                        <thead>
                            <tr style="text-align: center">
                                <th>#</th>
                                <th>User</th>
                                <th>Games</th>
                                <th>Points</th>
                                <th>Booms</th>
                                <th>Winners</th>
                                <th>B-Goals</th>
                                <th>Distance</th>
                                <th>GS Rank</th>
                                <th>Extra</th>
                            </tr>
                        <thead/>
                        <tbody>
                          {% for item in table %}
                              {% if forloop.counter == 1 %}
                                    <tr class="active-row">
                                      <th>{{ item.rn }}</th>
                                      <td>{{ item.nickname }}</td>
                                      <td>{{ games_played }}</td>
                                      <td>{{ item.points }}</td>
                                      <td>{{ item.boom }}</td>
                                      <td>{{ item.direction }}</td>
                                      <td>{{ item.predicted_goals }}</td>
                                      <td>{{ item.distance }}</td>
                                      <td>{{ item.gs_rank }}</td>
                                      <td>{{ item.extra }}</td>
                                  </tr>
                              {% else %}
                                  <tr>
                                      <th>{{ item.rn }}</th>
                                      <td>{{ item.nickname }}</td>
                                      <td>{{ games_played }}</td>
                                      <td>{{ item.points }}</td>
                                      <td>{{ item.boom }}</td>
                                      <td>{{ item.direction }}</td>
                                      <td>{{ item.predicted_goals }}</td>
                                      <td>{{ item.distance }}</td>
                                      <td>{{ item.gs_rank }}</td>
                                      <td>{{ item.extra }}</td>
                                  </tr>
                              {% endif %}
                          {% endfor %}
                        </tbody>
                  </table>
                </div>
        {% endfor %}
    {% endif %}
{% endblock %}